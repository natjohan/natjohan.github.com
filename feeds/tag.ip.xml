<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Natjohan</title><link href="http://natjohan.info/" rel="alternate"></link><link href="http://natjohan.info/feeds/tag.ip.xml" rel="self"></link><id>http://natjohan.info/</id><updated>2015-09-19T13:52:00+02:00</updated><entry><title>Tip of the week 42</title><link href="http://natjohan.info/tip-of-the-week-42.html" rel="alternate"></link><updated>2015-09-19T13:52:00+02:00</updated><author><name>natjohan</name></author><id>tag:natjohan.info,2015-09-19:tip-of-the-week-42.html</id><summary type="html">&lt;div class="section" id="use-the-ip-command-under-linux"&gt;
&lt;h2&gt;Use the &lt;cite&gt;ip&lt;/cite&gt; command under linux&lt;/h2&gt;
&lt;p&gt;As you know (or not) the &lt;cite&gt;ifconfig&lt;/cite&gt; command is deprecated since many years now and not developped anymore since 2001,
it's still present but for now you should use the &lt;cite&gt;ip&lt;/cite&gt; command which is a part of the &lt;cite&gt;iproute2&lt;/cite&gt; package,
it supports all functions of &lt;cite&gt;ifconfig&lt;/cite&gt;, &lt;cite&gt;route&lt;/cite&gt;, &lt;cite&gt;arp&lt;/cite&gt;, &lt;cite&gt;netstat&lt;/cite&gt; and many others (multicast, tunnels,
etc)&lt;/p&gt;
&lt;p&gt;Here is the ip command syntax :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  ip help&lt;/span&gt;
&lt;span class="go"&gt;Usage: ip [ OPTIONS ] OBJECT { COMMAND | help }&lt;/span&gt;
&lt;span class="go"&gt;       ip [ -force ] -batch filename&lt;/span&gt;
&lt;span class="go"&gt;where  OBJECT := { link | addr | addrlabel | route | rule | neigh | ntable |&lt;/span&gt;
&lt;span class="go"&gt;                   tunnel | tuntap | maddr | mroute | mrule | monitor | xfrm |&lt;/span&gt;
&lt;span class="go"&gt;                   netns }&lt;/span&gt;
&lt;span class="go"&gt;       OPTIONS := { -V[ersion] | -s[tatistics] | -d[etails] | -r[esolve] |&lt;/span&gt;
&lt;span class="go"&gt;                    -f[amily] { inet | inet6 | ipx | dnet | link } |&lt;/span&gt;
&lt;span class="go"&gt;                    -l[oops] { maximum-addr-flush-attempts } |&lt;/span&gt;
&lt;span class="go"&gt;                    -o[neline] | -t[imestamp] | -b[atch] [filename] |&lt;/span&gt;
&lt;span class="go"&gt;                    -rc[vbuf] [size]}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Few examples below :&lt;/p&gt;
&lt;p&gt;Control the physical and logical state of an interface :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  sudo ip link set wlan0 up&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Set up an IP address (yes you can use CIDR notation):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~ ip addr add 192.168.2.1/24 dev eth0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Return the IP addresses :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  ip addr&lt;/span&gt;
&lt;span class="go"&gt;1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN&lt;/span&gt;
&lt;span class="go"&gt;    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00&lt;/span&gt;
&lt;span class="go"&gt;    inet 127.0.0.1/8 scope host lo&lt;/span&gt;
&lt;span class="go"&gt;       valid_lft forever preferred_lft forever&lt;/span&gt;
&lt;span class="go"&gt;    inet6 ::1/128 scope host&lt;/span&gt;
&lt;span class="go"&gt;       valid_lft forever preferred_lft forever&lt;/span&gt;
&lt;span class="go"&gt;2: eth0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc pfifo_fast state DOWN qlen 1000&lt;/span&gt;
&lt;span class="go"&gt;    link/ether e8:03:9a:b2:a4:11 brd ff:ff:ff:ff:ff:ff&lt;/span&gt;
&lt;span class="go"&gt;3: wlan0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP qlen 1000&lt;/span&gt;
&lt;span class="go"&gt;    link/ether c4:85:08:1b:f4:04 brd ff:ff:ff:ff:ff:ff&lt;/span&gt;
&lt;span class="go"&gt;    inet 192.168.1.25/24 brd 192.168.1.255 scope global wlan0&lt;/span&gt;
&lt;span class="go"&gt;       valid_lft forever preferred_lft forever&lt;/span&gt;
&lt;span class="go"&gt;    inet6 fe80::c685:8ff:fe1b:f404/64 scope link&lt;/span&gt;
&lt;span class="go"&gt;       valid_lft forever preferred_lft forever&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Display the routing table&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  ip route&lt;/span&gt;
&lt;span class="go"&gt;default via 192.168.1.1 dev wlan0  proto static&lt;/span&gt;
&lt;span class="go"&gt;169.254.0.0/16 dev wlan0  scope link  metric 1000&lt;/span&gt;
&lt;span class="go"&gt;172.17.0.0/16 dev docker0  proto kernel  scope link  src 172.17.42.1&lt;/span&gt;
&lt;span class="go"&gt;192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.25  metric 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Display a routing entry for a specific subnet :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt; ~  ip ro get 8.8.8.8&lt;/span&gt;
&lt;span class="go"&gt;8.8.8.8 via 192.168.1.1 dev wlan0  src 192.168.1.25&lt;/span&gt;
&lt;span class="go"&gt;    cache&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Show ARP entries :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  ip neighbor&lt;/span&gt;
&lt;span class="go"&gt;192.168.1.1 dev wlan0 lladdr 2c:39:96:2a:2f:9c REACHABLE&lt;/span&gt;
&lt;span class="go"&gt;fe80::2e39:96ff:fe2a:2f9c dev wlan0 lladdr 2c:39:96:2a:2f:9c router DELAY&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Show link statistics :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;~  ip -s link&lt;/span&gt;
&lt;span class="go"&gt;1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN&lt;/span&gt;
&lt;span class="go"&gt;    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00&lt;/span&gt;
&lt;span class="go"&gt;    RX: bytes  packets  errors  dropped overrun mcast&lt;/span&gt;
&lt;span class="go"&gt;    54244      563      0       0       0       0&lt;/span&gt;
&lt;span class="go"&gt;    TX: bytes  packets  errors  dropped carrier collsns&lt;/span&gt;
&lt;span class="go"&gt;    54244      563      0       0       0       0&lt;/span&gt;
&lt;span class="go"&gt;2: eth0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc pfifo_fast state DOWN qlen 1000&lt;/span&gt;
&lt;span class="go"&gt;    link/ether e8:03:9a:b2:a4:11 brd ff:ff:ff:ff:ff:ff&lt;/span&gt;
&lt;span class="go"&gt;    RX: bytes  packets  errors  dropped overrun mcast&lt;/span&gt;
&lt;span class="go"&gt;    0          0        0       0       0       0&lt;/span&gt;
&lt;span class="go"&gt;    TX: bytes  packets  errors  dropped carrier collsns&lt;/span&gt;
&lt;span class="go"&gt;    0          0        0       0       0       0&lt;/span&gt;
&lt;span class="go"&gt;3: wlan0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP qlen 1000&lt;/span&gt;
&lt;span class="go"&gt;    link/ether c4:85:08:1b:f4:04 brd ff:ff:ff:ff:ff:ff&lt;/span&gt;
&lt;span class="go"&gt;    RX: bytes  packets  errors  dropped overrun mcast&lt;/span&gt;
&lt;span class="go"&gt;    5185017    6229     0       0       0       0&lt;/span&gt;
&lt;span class="go"&gt;    TX: bytes  packets  errors  dropped carrier collsns&lt;/span&gt;
&lt;span class="go"&gt;    1178874    4200     0       0       0       0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="go-further"&gt;
&lt;h2&gt;Go Further&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://lartc.org/manpages/ip.txt"&gt;man&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://lartc.org/howto/"&gt;lartc&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="linux"></category><category term="ubuntu"></category><category term="network"></category><category term="ifconfig"></category><category term="ip"></category></entry></feed>