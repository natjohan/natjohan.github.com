<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Natjohan</title><link href="http://natjohan.info/" rel="alternate"></link><link href="http://natjohan.info/feeds/tag.network.xml" rel="self"></link><id>http://natjohan.info/</id><updated>2013-04-14T14:11:00+02:00</updated><entry><title>Tip of the week 16</title><link href="http://natjohan.info/tip-of-the-week-16.html" rel="alternate"></link><updated>2013-04-14T14:11:00+02:00</updated><author><name>natjohan</name></author><id>tag:natjohan.info,2013-04-14:tip-of-the-week-16.html</id><summary type="html">&lt;img alt="/images/splunk-logo.png" src="/images/splunk-logo.png" /&gt;
&lt;div class="section" id="secure-your-splunk-free-server"&gt;
&lt;h2&gt;Secure your Splunk Free server&lt;/h2&gt;
&lt;p&gt;&amp;quot;Splunk Enterprise is a fully featured, powerful platform for collecting, searching, monitoring and analyzing machine data&amp;quot;. There is a free version of Splunk with some limitations (read &lt;a class="reference external" href="http://docs.splunk.com/Documentation/Splunk/5.0.2/Admin/MoreAboutSplunkFree"&gt;here&lt;/a&gt;), but it's sufficent to analyze fews hosts logs (&amp;lt; 20). The major disadvatage of this edition is the lack of an authentication module for the web interface, which mean anyone can access to your splunk interface and show your data.&lt;/p&gt;
&lt;p&gt;One way to secure it is to bind SplunkWeb on localhost and use a ssh tunnel to access it.&lt;/p&gt;
&lt;div class="section" id="configuration"&gt;
&lt;h3&gt;Configuration&lt;/h3&gt;
&lt;p&gt;You just have to edit &lt;cite&gt;$SPLUNK_HOME/etc/system/default/web.conf&lt;/cite&gt; to uncomment and modify this line like that :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;server.socket_host = localhost&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Restart Splunk :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;splunk-server# $SPLUNK_HOME/bin/splunk restart splunk&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Verify your configuration :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;splunk-server# netstat -an | grep 8000&lt;/span&gt;
&lt;span class="go"&gt;        tcp   0    0 127.0.0.1:8000   0.0.0.0:*   LISTEN&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="access"&gt;
&lt;h3&gt;Access&lt;/h3&gt;
&lt;p&gt;Now, if you want to access your SplunkWeb interface, you need to setup a ssh tunnel between your pc and your server to forward the remote 8000 port on your pc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan# ssh -L 8000:127.0.0.1:8000 myremoteuser@&amp;lt;splunk-server-address&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Explanation : the &lt;cite&gt;-L 8000&lt;/cite&gt; option mean you specify the local port on your pc to access to &lt;cite&gt;127.0.0.1:8000&lt;/cite&gt; on your remote server&lt;/p&gt;
&lt;p&gt;Now your can access to your Splunk interface on your pc by typing &lt;a class="reference external" href="https://127.0.0.1:8000"&gt;https://127.0.0.1:8000&lt;/a&gt; in your browser.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="go-further"&gt;
&lt;h3&gt;Go Further&lt;/h3&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://wiki.splunk.com/Community:DeployHardenedSplunk"&gt;Splunk wiki Deploy hardened Splunk&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://blog.7elements.co.uk/2012/11/quick-post-securing-splunk-free.html"&gt;source&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="tool"></category><category term="network"></category><category term="splunk"></category><category term="security"></category><category term="ssh"></category></entry><entry><title>Tip of the week 12</title><link href="http://natjohan.info/tip-of-the-week-12.html" rel="alternate"></link><updated>2013-03-10T21:38:00+01:00</updated><author><name>natjohan</name></author><id>tag:natjohan.info,2013-03-10:tip-of-the-week-12.html</id><summary type="html">&lt;div class="section" id="detect-ip-address-conflicts-with-the-arping-command"&gt;
&lt;h2&gt;Detect IP address conflicts  with the arping command&lt;/h2&gt;
&lt;p&gt;If you're working in large network environment and you have some ip conflicts, you can use &lt;cite&gt;arping&lt;/cite&gt; command under Linux. This command sends arp requests on the Ethernet layer and is a part of iputils package (so &lt;cite&gt;arping&lt;/cite&gt; is available on many distros)&lt;/p&gt;
&lt;div class="section" id="usage"&gt;
&lt;h3&gt;Usage&lt;/h3&gt;
&lt;p&gt;&lt;cite&gt;arping&lt;/cite&gt; usage is very easy :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan$ arping&lt;/span&gt;
&lt;span class="go"&gt;        Usage: arping [-fqbDUAV] [-c count] [-w timeout] [-I device] [-s source] destination&lt;/span&gt;
&lt;span class="go"&gt;          -f : quit on first reply&lt;/span&gt;
&lt;span class="go"&gt;          -q : be quiet&lt;/span&gt;
&lt;span class="go"&gt;          -b : keep broadcasting, don&amp;#39;t go unicast&lt;/span&gt;
&lt;span class="go"&gt;          -D : duplicate address detection mode&lt;/span&gt;
&lt;span class="go"&gt;          -U : Unsolicited ARP mode, update your neighbours&lt;/span&gt;
&lt;span class="go"&gt;          -A : ARP answer mode, update your neighbours&lt;/span&gt;
&lt;span class="go"&gt;          -V : print version and exit&lt;/span&gt;
&lt;span class="go"&gt;          -c count : how many packets to send&lt;/span&gt;
&lt;span class="go"&gt;          -w timeout : how long to wait for a reply&lt;/span&gt;
&lt;span class="go"&gt;          -I device : which ethernet device to use&lt;/span&gt;
&lt;span class="go"&gt;          -s source : source ip address&lt;/span&gt;
&lt;span class="go"&gt;          destination : ask for what ip address&lt;/span&gt;
&lt;span class="go"&gt;natjohan$ arping  -I wlan0 192.168.1.15&lt;/span&gt;
&lt;span class="go"&gt;        ARPING 192.168.1.15 from 192.168.1.17 wlan0&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  166.580ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [00:16:44:12:91:86]  167.651ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  171.751ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  89.035ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  112.753ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  32.680ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  56.519ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  81.120ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  104.755ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  34.628ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  51.382ms&lt;/span&gt;
&lt;span class="go"&gt;        Unicast reply from 192.168.1.15 [5C:0A:5B:26:72:82]  75.083ms&lt;/span&gt;
&lt;span class="go"&gt;        ^CSent 11 probes (1 broadcast(s))&lt;/span&gt;
&lt;span class="go"&gt;        Received 12 response(s)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The main options are : &lt;strong&gt;-I&lt;/strong&gt; to define on which interface you want to send arp requests and the IP address you want to test, in the example above you can see that two MAC have the 192.168.1.15 ip address ([5C:0A:5B:26:72:82] and [00:16:44:12:91:86])&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="go-further"&gt;
&lt;h2&gt;Go further&lt;/h2&gt;
&lt;p&gt;For your scripts : use the -D option to know if an IP is already used, &lt;em&gt;Duplicate address detection mode (DAD). See RFC2131, 4.4.1.  Returns 0, if DAD succeeded i.e. no replies are received&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
</summary><category term="tip"></category><category term="linux"></category><category term="network"></category></entry><entry><title>Install GNS3 on Fedora 18</title><link href="http://natjohan.info/install-gns3-on-fedora-18.html" rel="alternate"></link><updated>2013-02-04T20:24:00+01:00</updated><author><name>natjohan</name></author><id>tag:natjohan.info,2013-02-04:install-gns3-on-fedora-18.html</id><summary type="html">&lt;img alt="/images/GNS3-logo.png" src="/images/GNS3-logo.png" /&gt;
&lt;p&gt;GNS3 is a famous network simulator which allow to test network topologies and equipements.&lt;/p&gt;
&lt;div class="section" id="installation"&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;First you have to install &lt;cite&gt;Telnet&lt;/cite&gt; and &lt;cite&gt;PyQt4&lt;/cite&gt; library with :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan# yum install telnet pyqt4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, install GNS3, download the tgz archive from the official &lt;a class="reference external" href="http://www.gns3.net/download/"&gt;website&lt;/a&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan# tar -xvzf GNS3-0.8.3.1-src.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;natjohan# cd GNS3-0.8.3.1-src/&lt;/span&gt;
&lt;span class="go"&gt;natjohan# python2.7 setup.py build&lt;/span&gt;
&lt;span class="go"&gt;natjohan# python2.7 setup.py install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To emulate Cisco devices, you need dynamips. You can install dynamips from &lt;a class="reference external" href="http://www.gns3.net/dynamips/"&gt;source&lt;/a&gt; or from RPM-Sphere repository, so, at first, add RPM-Sphere repo provided by Huaren Zhong. Create &lt;cite&gt;/etc/yum.repos.d/rpm-sphere.repo&lt;/cite&gt; file and add&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;[rpm-sphere]&lt;/span&gt;
&lt;span class="go"&gt;name=RPM Sphere&lt;/span&gt;
&lt;span class="go"&gt;baseurl=http://download.opensuse.org/repositories/home:/zhonghuaren/Fedora_18/&lt;/span&gt;
&lt;span class="go"&gt;gpgkey=http://download.opensuse.org/repositories/home:/zhonghuaren/Fedora_18/repodata/repomd.xml.key&lt;/span&gt;
&lt;span class="go"&gt;enabled=1&lt;/span&gt;
&lt;span class="go"&gt;gpgcheck=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then install dynamips package :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan# yum install dynamips&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="usage"&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;Now you can launch GNS3 from a user prompt and follow the start instructions !&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;natjohan$ gns3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="go-further"&gt;
&lt;h2&gt;Go Further&lt;/h2&gt;
&lt;p&gt;GNS &lt;a class="reference external" href="http://www.gns3.net/documentation/"&gt;documentation&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</summary><category term="tool"></category><category term="network"></category><category term="simulation"></category><category term="Fedora"></category></entry><entry><title>Tip of the week 6</title><link href="http://natjohan.info/tip-of-the-week-6.html" rel="alternate"></link><updated>2013-01-28T13:40:00+01:00</updated><author><name>natjohan</name></author><id>tag:natjohan.info,2013-01-28:tip-of-the-week-6.html</id><summary type="html">&lt;img alt="/images/lldpd-why.png" src="/images/lldpd-why.png" /&gt;
&lt;div class="section" id="know-your-network-neighbors-thanks-to-lldpd-daemon"&gt;
&lt;h2&gt;Know your network neighbors thanks to lldpd daemon&lt;/h2&gt;
&lt;p&gt;This week, i would like to present you lldpd. Actually, it's a useful daemon for GNU/Linux, BSD, Mac OS X developped by &lt;a class="reference external" href="http://vincent.bernat.im"&gt;Vincent Bernat&lt;/a&gt;. The picture above summarizes the situation very well ;-).&lt;/p&gt;
&lt;p&gt;Actually, this tool &lt;em&gt;is a 802.1ab implementation (LLDP) to help you locate neighbors of all your equipments.&lt;/em&gt;. Thanks to this tool, you can discover your network neighbors (if they use LLDP/CDP/EDP/SONMP/FDP protocols) and advertise capabilities/identities of your network interfaces.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="installation-usage"&gt;
&lt;h2&gt;Installation &amp;amp; usage&lt;/h2&gt;
&lt;p&gt;lldpd is well documented, so you I can only advise you to read this documentation and follow the &lt;a class="reference external" href="http://vincentbernat.github.com/lldpd/installation.html"&gt;instructions&lt;/a&gt; to install it on your system.&lt;/p&gt;
&lt;p&gt;Then you can use &lt;cite&gt;lldpctl&lt;/cite&gt; or &lt;cite&gt;lldpcli&lt;/cite&gt; (this one provide an interactive shell) to watch your network neighboors (&lt;strong&gt;pssst, there is a -f option for format, you can choose xml or json, it's very interesting for your script/backend UI&lt;/strong&gt;) and configure your interfaces. The &lt;cite&gt;lldpd&lt;/cite&gt; command allow you to debug/manage lldpd daemon.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://vincentbernat.github.com/lldpd/usage.html"&gt;RTFM&lt;/a&gt; now !&lt;/p&gt;
&lt;p&gt;Example of output for &lt;cite&gt;lldpcli&lt;/cite&gt; -&amp;gt; &lt;cite&gt;show neighbor detail&lt;/cite&gt; (from the official doc):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;#&lt;/span&gt; show neighbors detail
&lt;span class="go"&gt;-------------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="go"&gt;Interface:    eth0, via: LLDP, RID: 1, Time: 0 day, 00:00:10&lt;/span&gt;
&lt;span class="go"&gt;  Chassis:&lt;/span&gt;
&lt;span class="go"&gt;    ChassisID:    mac 00:18:f3:03:4e:06&lt;/span&gt;
&lt;span class="go"&gt;    SysName:      dev-01.example.com&lt;/span&gt;
&lt;span class="go"&gt;    SysDescr:     Debian GNU/Linux 7.0 (wheezy) Linux 3.7-trunk-amd64 #1 SMP Debian 3.7.1-1~experimental.1 x86_64&lt;/span&gt;
&lt;span class="go"&gt;    MgmtIP:       192.168.20.127&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Bridge, on&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Router, on&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Wlan, off&lt;/span&gt;
&lt;span class="go"&gt;  Port:&lt;/span&gt;
&lt;span class="go"&gt;    PortID:       mac ea:b8:ab:aa:8c:da&lt;/span&gt;
&lt;span class="go"&gt;    PortDescr:    eth1&lt;/span&gt;
&lt;span class="go"&gt;    PMD autoneg:  supported: no, enabled: no&lt;/span&gt;
&lt;span class="go"&gt;      MAU oper type: 10GigBaseR - R PCS/PMA, unknown PMD.&lt;/span&gt;
&lt;span class="go"&gt;  LLDP-MED:&lt;/span&gt;
&lt;span class="go"&gt;    Device Type:  Media Endpoint (Class II)&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Capabilities&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Policy&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Location&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   MDI/PSE&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   MDI/PD&lt;/span&gt;
&lt;span class="go"&gt;    Capability:   Inventory&lt;/span&gt;
&lt;span class="go"&gt;    Inventory:&lt;/span&gt;
&lt;span class="go"&gt;      Hardware Revision: System Version&lt;/span&gt;
&lt;span class="go"&gt;      Software Revision: 3.7-trunk-amd64&lt;/span&gt;
&lt;span class="go"&gt;      Firmware Revision: 2104&lt;/span&gt;
&lt;span class="go"&gt;      Serial Number: System Serial Number&lt;/span&gt;
&lt;span class="go"&gt;      Manufacturer: System manufacturer&lt;/span&gt;
&lt;span class="go"&gt;      Model:        System Product Name&lt;/span&gt;
&lt;span class="go"&gt;      Asset ID:     Asset-1234567890&lt;/span&gt;
&lt;span class="go"&gt;-------------------------------------------------------------------------------&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So i think this tool is very useful to simplify your data-center configuration&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="go-further"&gt;
&lt;h2&gt;Go Further&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://en.wikipedia.org/wiki/Link_Layer_Discovery_Protocol"&gt;LLDP&lt;/a&gt; on wikipedia&lt;/p&gt;
&lt;/div&gt;
</summary><category term="tip"></category><category term="linux"></category><category term="lldpd"></category><category term="lldp"></category><category term="cdp"></category><category term="network"></category></entry></feed>